[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Exploratory Data Analysis of transportation efficiency data in Manhattan",
    "section": "",
    "text": "1 Introduction\nUnderstanding the efficiency of locations is becoming increasingly important in an era of rapid urbanization and growing interest in sustainable living. The Smart Location Database is a valuable resource for understanding the intricate relationships that exist between transportation systems, urban planning, and demographic trends. This national dataset gathers more than 90 characteristics and provide a comprehensive picture of location efficiency, including employment possibilities, transit service, neighborhood design, land use diversity, housing density, and even demographic trends. Additionally, it offers information at census block groups level, providing an enormous amount of data for scholars, decision-makers, and urban planners.\nIn this study, we focus on Manhattan, New York City because Manhattan offers an exceptional case for analyzing the complex factors influencing location efficiency and urban sustainability.\nThrough this analysis, we want to answer these two questions:\n\nWhat role does land use diversity play in influencing the efficiency of urban areas in Manhattan?\nCan we identify trends in employment possibilities, transit service, land use diversity, and housing density in Manhattan and provide recommendations for urban planning or transportation infrastructure improvements?\n\nBy focusing on Manhattan, we intend to provide insightful information that can promote equitable growth, improve the quality of life for its citizens, and improve equity. Join us as we investigate Manhattan’s story from the Smart Location Database!",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Technical Description\nThe SLD dataset (url: https://edg.epa.gov/EPADataCommons/public/OA/EPA_SmartLocationDatabase_V3_Jan_2021_Final.csv) was gathered by EPA (United States Environmental Protection Agency), which summarizes more than 90 different indicators associated with the built environment and location efficiency.Most attributes are available for all U.S. block groups.\nEPA first released a beta version of the Smart Location Database in 2011. The initial full version was released in 2013, and the database was updated to its current version in 2021.\nThe format of the data is geometry data based on census block groups. We plan to select the features that can best describe our research question, and select the data falls into Manhatten area in New York city. We plan to plot the density distribution of the data to examine the usability of the features for future use.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\nselected_columns &lt;- c(\"P_WrkAge\", \"Pct_AO1\", \"Pct_AO2p\", \"R_HiWageWk\", \n                      \"E_HiWageWk\", \"D1A\", \"D1B\", \"D1C\", \"D1C8_HLTH\", \"D1D\", \n                      \"D2A_JPHH\", \"D2A_EPHHM\", \"D2C_TRIPEQ\", \"D2R_JOBPOP\", \n                      \"D2C_WREMLX\", \"D3A\", \"D3AAO\", \"D3AMM\", \"D3APO\", \"D3B\", \n                      \"D3BAO\", \"D3BMM4\", \"D3BPO4\", \"D4A\", \"D4C\", \"D4D\", \n                      \"D5AR\", \"D5AE\", \"D5BR\", \"D5BE\", \"D5CR\", \"D5CRI\")\nman_miss&lt;- man_data[, selected_columns]\nmissing_plot &lt;- plot_missing(man_miss,\n  group = list(Good = 0.05, OK = 0.4, Bad = 0.8, Remove = 1),\n  group_color = list(Good = \"#1B9E77\", OK = \"#E6AB02\", Bad = \"#D95F02\", Remove =\n    \"#E41A1C\"),\n  missing_only = FALSE, title = \"Distribution of Missing Values for Each Variable\")\n\n\n\n\n\n\n\n\n\nThere are no missing values in the dataset, as all features have 0 missing rows. In the plot_missing() function, when no missing values are present, the graph defaults to an x-axis scale ranging from -0.05 to 0.05. A similar case is demonstrated in the official reference: https://cran.r-project.org/web/packages/DataExplorer/vignettes/dataexplorer-intro.html\n\n\nCode\n#install.packages(\"naniar\")\n\nvis_miss(man_miss)\n\n\n\n\n\n\n\n\n\nWe also use heatmap for missing value by packages(“naniar”), from the observations, 100% present of data are exsited. 0% percent value is missing.\n\n\nCode\naggr(man_data, col = c('navyblue', 'red'), numbers = TRUE, sortVars = FALSE, \n     labels = names(man_data), cex.axis = 0.7, gap = 3, \n     main = \"Missing Data Overview\")\n\n\n\n\n\n\n\n\n\nThere is no missing data because proportion of missings is 0. If the combination count is 1 in the output of the aggr() function, it means there is only one distinct pattern of missingness across all the variables in the dataset. In other words:Every row with missing values has missingness in the exact same set of variables.No other unique missing value patterns exist in the dataset.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "",
    "text": "2.1.1 Data dimension\nThe original SLD dataset dimension is Rows: 220740 Columns: 117, each row stands for each census block group unit. The columns include 90 indicators and other geometry IDs.\n\n\nCode\nlibrary(readr)\nlibrary(DataExplorer)\nlibrary(ggplot2)\nlibrary(naniar)\nlibrary(VIM) \n\n\nLoading required package: colorspace\n\n\nLoading required package: grid\n\n\nVIM is ready to use.\n\n\nSuggestions and bug-reports can be submitted at: https://github.com/statistikat/VIM/issues\n\n\n\nAttaching package: 'VIM'\n\n\nThe following object is masked from 'package:datasets':\n\n    sleep\n\n\nCode\nurl &lt;- \"https://edg.epa.gov/EPADataCommons/public/OA/EPA_SmartLocationDatabase_V3_Jan_2021_Final.csv\"\n\n\nsld2021 &lt;- read_csv(url)\n\n\nRows: 220740 Columns: 117\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (2): CSA_Name, CBSA_Name\ndbl (115): OBJECTID, GEOID10, GEOID20, STATEFP, COUNTYFP, TRACTCE, BLKGRPCE,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n2.1.2 Feature selection\nWe choose 32 features out of 90 to best describe the research question, all the features are from five prospects:demographics, density, design, transit access, destination accessibility.\nFor example: Demographics ‘P_WrkAge’, Percent of population that is working aged 18 to 64 years, Pct_AO1 ,Percent of one-car households in CBG, 2018 Pct_AO2p ,Percent of two-plus-car households in CBG, 2018 R_HiWageWk, Count of workers earning $3333/month or more (home location), 2017 E_HiWageWk, # of workers earning $3333/month or more (work location), 2017\n\n\nCode\nselected_columns &lt;- c(\"GEOID20\", \"STATEFP\", \"COUNTYFP\", \"TRACTCE\", \"BLKGRPCE\", \n                      \"P_WrkAge\", \"Pct_AO1\", \"Pct_AO2p\", \"R_HiWageWk\", \n                      \"E_HiWageWk\", \"D1A\", \"D1B\", \"D1C\", \"D1C8_HLTH\", \"D1D\", \n                      \"D2A_JPHH\", \"D2A_EPHHM\", \"D2C_TRIPEQ\", \"D2R_JOBPOP\", \n                      \"D2C_WREMLX\", \"D3A\", \"D3AAO\", \"D3AMM\", \"D3APO\", \"D3B\", \n                      \"D3BAO\", \"D3BMM4\", \"D3BPO4\", \"D4A\", \"D4C\", \"D4D\", \n                      \"D5AR\", \"D5AE\", \"D5BR\", \"D5BE\", \"D5CR\", \"D5CRI\")\n\nnew_sld2021 &lt;- sld2021[, selected_columns]\n\n\n\n\n2.1.3 Area selection\nWe filtered the Manhatten data by selecting data with “STATEFP”==36, and “COUNTYFP”==61.The “STATEFP”==36 indicates the New York state, the “COUNTYFP”==61 is Manhatten area.\n\n\nCode\nNY_data &lt;- new_sld2021[new_sld2021$STATEFP == 36, ]\n\nman_data &lt;- NY_data[NY_data$COUNTYFP == 61, ]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 1. Variables distirubution",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>5702 project script</span>"
    ]
  },
  {
    "objectID": "results.html#variables-distirubution",
    "href": "results.html#variables-distirubution",
    "title": "3  Results",
    "section": "",
    "text": "3.1.1 (1) histogram for numeric variables\n\n\nCode\nnum_variables &lt;- c(\n  \"P_WrkAge\", \"Pct_AO1\", \"R_HiWageWk\", \n  \"D1B\", \n  \"D3A\", \"D3AMM\", \"D3APO\", \n  \"D4A\", \n  \"D5AR\", \n  \"D5CRI\"\n)\n\n\nselected_data &lt;- data[num_variables]\n\n\ndata_long &lt;- selected_data %&gt;%\n  pivot_longer(cols = everything(), names_to = \"Variable\", values_to = \"Value\")\n\n# histograms\nggplot(data_long, aes(x = Value)) +\n  geom_histogram(aes(y = ..density..), bins = 30, fill = \"skyblue\", color = \"black\", alpha = 0.7) +\n  facet_wrap(~ Variable, scales = \"free_y\") +\n  labs(title = \"Histogram with Density Line for Numerical Variables\",\n       x = \"Value\", y = \"Density\") +\n  theme_minimal()\n\n\nWarning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(density)` instead.\n\n\n\n\n\n\n\n\n\n\nD1B (Gross population density)\nD3A (Total road network density)\n\nD3AMM (Multi-modal network density)\n\nD3APO (Pedestrian-oriented network density)\n\nD4A (Distance to nearest transit stop)\n\nD5AR (Jobs within 45 minutes auto travel time)\n\nD5CRI (Regional Centrality Index – Auto)\n\nP_WrkAge (Percent of working-age population)\n\nPct_AO1 (Percent of one-car households)\n\nR_HiWageWk (Count of high-wage workers earning $3,333/month or more)\n\nMany factors like population density (D1B), road network density (D3A), multi-modal network density (D3AMM), pedestrian infrastructure (D3APO), car ownership (Pct_AO1), and high-wage workers (R_HiWageWk), show that most areas in Manhattan have lower levels, with only a few having much higher values.\nSome factors such as the working-age population (P_WrkAge) and regional centrality (D5CRI) are more balanced, with values clustering around the average, suggesting consistency across areas.\nHowever, factors like distance to transit (D4A) and pedestrian-oriented infrastructure (D3APO) show significant disparities, with most areas having limited access and only a few being well-served. This highlights unequal distribution of infrastructure and accessibility across Manhattan.\n\n\n3.1.2 (2). ridgeline plot for numerical variables\n\n\nCode\n# ridgeline plot \nggplot(data_long, aes(x = Value, y = Variable)) +\n  geom_density_ridges(fill = \"skyblue\", alpha = 0.7, scale = 0.9, rel_min_height = 0.01) +\n  labs(title = \"Ridgeline Plot for Numerical Variables\",\n       x = \"Value\", y = \"Variable\") +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",  \n    axis.text.y = element_text(size = 10),  \n    plot.title = element_text(size = 14, face = \"bold\")  \n  )\n\n\nPicking joint bandwidth of 0.0209\n\n\n\n\n\n\n\n\n\nVariables related to transportation infrastructure and accessibility, such as D4A, D3APO, and D3AMM, highlight disparities in urban planning. Many regions in Manhattan lack significant infrastructure, as showed by the skewed distributions.\nThe Pct_AO1 variable shows a relatively flat distribution, indicating consistent proportions of one-car households across different areas.\n\n\n3.1.3 (3). Bar chart for categorical variables\n\n\nCode\ndata_cat_freq &lt;- data_categorical |&gt;\n  count(D1C_Cat, name = \"Freq_D1C\")\ndata_cat_freq2 &lt;- data_categorical |&gt;\n  count(D3B_Cat, name = \"Freq_D3B\")\n\np1 &lt;- data_cat_freq |&gt;\n  group_by(D1C_Cat) |&gt;\n  summarize(Freq = sum(Freq_D1C)) |&gt;\n  ungroup() |&gt;\n  ggplot(aes(D1C_Cat, Freq)) +\n  labs(\n    title = \" Bar plot for D1C(Gross employment level)\"\n  ) +\n  geom_col(color = \"grey50\", fill = \"lightblue\") +\n  theme_minimal(base_size = 10) +  \n  theme(\n    plot.title = element_text(size = 10, face = \"bold\")  \n  )\n\np2 &lt;- data_cat_freq2 |&gt;\n  group_by(D3B_Cat) |&gt;\n  summarize(Freq = sum(Freq_D3B)) |&gt;\n  ungroup() |&gt;\n  ggplot(aes(D3B_Cat, Freq)) +\n  labs(\n    title = \"Bar plot for D3B(Street intersection density)\"\n  ) +\n  geom_col(color = \"grey50\", fill = \"lightblue\") +\n  theme_minimal(base_size = 10) +  \n  theme(\n    plot.title = element_text(size = 10, face = \"bold\")  \n  )\n\n\np1 | p2\n\n\n\n\n\n\n\n\n\nBoth variables show the Low level have the highest frequency, indicating that a significant proportion of observations have low values for both D1C_Cat(Gross employment level) and D3B_Cat(Street intersection density).\nHowever, the distribution of D1C_Cat show a sharp decline in frequencies for high level. In contrast, D3B_Cat has a more balanced distribution among the Medium, High, and Very High categories.\nThe relatively balanced distribution of D3B_Cat suggests that it might have a broader range of variation across the dataset compared to D1C_Cat.\n\n\n3.1.4 (4). jitter graph for relationship between categorical variables\n\n\nCode\n# Add jitter plot\nggplot(data_categorical, aes(x = D1C_Cat, y = D3B_Cat)) +\n  geom_jitter(width = 0.2, height = 0.2, size = 2, alpha = 0.7) +\n  theme_minimal() +\n  labs(\n    title = \"Jitter Plot for categorical variable of D1C and D3B\",\n    x = \"D1C Category: Gross employment density level\",\n    y = \"D3B Category: Street intersection density level\"\n  ) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    plot.title = element_text(hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\nThe densest regions tend to follow the diagonal from “Low-Low” to “Very High-Very High.” This indicates a positive association between D1C and D3B, where higher values of D1C are often associated with higher values of D3B.\nThere are still observations in non-diagonal areas. For example: Some observations in “High” D1C overlap with “Medium” or “Low” D3B. This suggests that while D1C and D3B are related, the relationship is not perfect, and other factors may influence the distributions.\nThe density of dots varies across categories. Some categories (eg: “Low” and “Medium”) may have more observations, while others (eg:“Very High”) are less frequent. This reflect possible real-world imbalances in the data.\n\n\n3.1.5 (5). Parallel coordinate plot for all numberical variables (color by categorical variables)\nWe randomly select 200 sample and do parallel coordinate plot because original dataset is too large\n\n\nCode\nset.seed(123)\n\n\nsampled_data &lt;- data_categorical %&gt;%\n  sample_n(200) %&gt;%\n  select(D3B_Cat, P_WrkAge, Pct_AO1, R_HiWageWk, D1B, D3A, D3AMM, D3APO, D4A, D5AR)\n\n\nnumeric_vars &lt;- sampled_data %&gt;%\n  select(-D3B_Cat)  \n\ndata_normalized &lt;- as.data.frame(scale(numeric_vars))\n\n\ndata_normalized &lt;- cbind(sampled_data[\"D3B_Cat\"], data_normalized)\n\n\ndata_long &lt;- data_normalized %&gt;%\n  mutate(ID = 1:nrow(data_normalized)) %&gt;%\n  pivot_longer(\n    cols = -c(ID, D3B_Cat),\n    names_to = \"Variable\",\n    values_to = \"Value\"\n  )\n\n\nggplot(data_long, aes(x = Variable, y = Value, group = ID, color = D3B_Cat)) +\n  geom_line(alpha = 0.6) +\n  labs(\n    title = \"Parallel Coordinate Plot for Randomly Selected 200 Rows\",\n    x = \"Numerical Variables\",\n    y = \"Normalized Value\",\n    color =\"D3B: Street intersection density level\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 10),  \n    axis.text.y = element_text(size = 10),                         \n    axis.title = element_text(size = 12),                         \n    plot.title = element_text(size = 12, face = \"bold\", hjust = 0.5), \n    legend.title = element_text(size = 8),                       \n    legend.text = element_text(size = 8)                          \n  )\n\n\n\n\n\n\n\n\n\nThis parallel coordinate plot represents the relationships between multiple normalized numerical variables for 200 randomly selected rows. Each line corresponds to one observation (row), and the colors represent the levels of the categorical variable D3B_Cat (Low, Medium, High, Very High).\nLines from Very High (purple line) generally peak at these variables, suggesting that areas with very high street intersection density level (D3B) values have higher values for transit accessibility and job accessibility.\nRed lines generally stay lower, indicating that areas in the “Low” street intersection density level (D3B) are closer to transit stops and have fewer jobs accessible by car.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>5702 project script</span>"
    ]
  },
  {
    "objectID": "results.html#correlation-plot-with-dependent-variable-d5cri-regional-centrality-index-auto",
    "href": "results.html#correlation-plot-with-dependent-variable-d5cri-regional-centrality-index-auto",
    "title": "3  Results",
    "section": "3.2 2. Correlation plot with dependent variable: D5CRI (Regional Centrality Index – Auto)",
    "text": "3.2 2. Correlation plot with dependent variable: D5CRI (Regional Centrality Index – Auto)\n\n3.2.1 (1).heat map\n\n\nCode\n# Compute the correlation matrix\ncor_matrix &lt;- cor(selected_data, use = \"complete.obs\")\n\n# Melt the correlation matrix into a long format for ggplot2\ncor_melt &lt;- melt(cor_matrix)\n\n# Create the heatmap with correlation values displayed\nggplot(cor_melt, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile() +\n  geom_text(aes(label = round(value, 2)), color = \"black\", size = 4) +  # Add correlation values as text\n  scale_fill_gradient2(\n    low = \"blue\", high = \"red\", mid = \"white\",\n    midpoint = 0, limit = c(-1, 1), space = \"Lab\",\n    name = \"Correlation\"\n  ) +\n  labs(\n    title = \"Correlation Heatmap of Numerical Variables and Dependent Variable\",\n    x = \"Variables\",\n    y = \"Variables\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    axis.text.y = element_text(size = 10),\n    plot.title = element_text(size = 14, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\n\nStrong Positive Relationships: Regional Centrality (D5CRI) and Job Accessibility (D5AR): Areas that are highly central (D5CRI) tend to have better access to jobs within a 45-minute drive (D5AR).\n\nProximity to Transit (D4A) and Regional Centrality (D5CRI): Places closer to transit stops (D4A) are strongly linked to being more central (D5CRI).\n\nModerate Positive Relationships: Working-Age Population (P_WrkAge) and High-Wage Workers (R_HiWageWk): Areas with more working-age residents tend to have more high-wage earners.\n\nRoad Network Density (D3A) and Multi-Modal Network Density (D3AMM): Areas with denser road networks also tend to have better multi-modal transportation options like buses or trains.\n\nWeak or Minimal Relationships: Pedestrian Infrastructure (D3APO) and Other Factors: Walkable infrastructure (D3APO) shows little connection to most other factors, indicating it operates independently.\nNegative Relationships: Pedestrian and Multi-Modal Infrastructure (D3APO and D3AMM): Areas designed for pedestrians tend to have slightly fewer multi-modal facilities, showing a trade-off in urban planning priorities.\n\n\n\n3.2.2 (2). Scatter plot matrix\n\n\nCode\nselected_data &lt;- data[num_variables]\n\n# Ensure all columns are numeric\nselected_data &lt;- selected_data %&gt;%\n  mutate(across(everything(), as.numeric))\n\n# Create a scatter plot matrix using GGally's ggpairs\nggpairs(\n  selected_data,\n  title = \"Scatter Plot Matrix of Numeircal Variables and Dependant Variables \",\n  lower = list(continuous = \"smooth\"),   # Smoothed scatter plots\n  upper = list(continuous = \"cor\"),      # Correlation coefficients\n  diag = list(continuous = \"densityDiag\") # Density plots on diagonal\n)\n\n\n\n\n\n\n\n\n\nFrom the scatter plot we can see that proximity to jobs, transit stops, and robust transport networks are the strongest drivers of regional centrality, while factors like pedestrian infrastructure or car ownership play a much smaller role.\n\n\n3.2.3 (3). The highest correlation (D4A:Distance to nearest transit stop) facet on D1C\n\n\nCode\nggplot(data_categorical, aes(x = D4A, y = D5CRI, color= D3B_Cat)) +\n  geom_point(alpha = 0.7) +\n facet_wrap(~D1C_Cat, scales = \"free\") +\n  labs(\n    title = \"Matrix of D4A(Distance to nearest transit stop) vs D5CRI Faceted by D3B \",\n    x = \"D4A:Distance to nearest transit stop value\",\n    y = \"D5CRI: Regional Centrality Index \",\n    color = \"D3B: Street intersection level\"\n    \n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    strip.text.x = element_text( hjust = 1),\n    plot.title = element_text(hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\nAcross all facets, areas with higher street intersection density (High and Very High) tend to show higher D5CRI values, indicating that denser street networks contribute to better centrality. However, areas with Low street intersection density (red points) tend to have lower centrality values, regardless of D4A.\nMedium land use diversity seems to introduce more variability in centrality (D5CRI), possibly due to a more balanced mix of urban design features.\nHigh land use diversity strengthens the relationship between proximity to transit stops and regional centrality, with better urban connectivity contributing to higher centrality.\nVery high land use diversity creates a strong positive relationship between proximity to transit stops and regional centrality. This is because of high street intersection density and well-integrated infrastructure.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>5702 project script</span>"
    ]
  },
  {
    "objectID": "results.html#map-plot",
    "href": "results.html#map-plot",
    "title": "3  Results",
    "section": "3.3 3. Map plot",
    "text": "3.3 3. Map plot\n\n\nCode\nstr(data_categorical)\n\n\n'data.frame':   1292 obs. of  17 variables:\n $ X         : int  963 964 965 1461 1462 1463 2394 2455 2456 2459 ...\n $ GEOID     : num  3.61e+11 3.61e+11 3.61e+11 3.61e+11 3.61e+11 ...\n $ geometry  : chr  \"POLYGON ((-73.978159 40.75146, -73.977677 40.752119, -73.977107 40.751883, -73.976048 40.751441, -73.976535 40.\"| __truncated__ \"POLYGON ((-73.982248 40.705829, -73.980907 40.705907, -73.980987 40.705374, -73.981856 40.70549, -73.982033 40.\"| __truncated__ \"POLYGON ((-73.98117 40.715378, -73.980879 40.715924, -73.98081 40.716055, -73.980778 40.716116, -73.980745 40.7\"| __truncated__ \"POLYGON ((-73.974707 40.721881, -73.974646 40.722105, -73.974525 40.722432, -73.974456 40.722584, -73.974309 40\"| __truncated__ ...\n $ P_WrkAge  : num  0.574 0.605 0.641 0.611 0 0 0.466 0.821 0.718 0.649 ...\n $ Pct_AO1   : num  0.1792 0.4205 0.2694 0.0956 0 ...\n $ R_HiWageWk: num  0.1242 0.0933 0.0595 0.0494 0 ...\n $ D1B       : num  0.25 0.198 0.169 0.153 0 ...\n $ D1C       : num  2.10e-02 8.67e-03 4.79e-03 6.22e-05 0.00 ...\n $ D3A       : num  0.291 0.351 0.313 0.179 0 ...\n $ D3AMM     : num  0.686 0.107 0.342 0 0 ...\n $ D3APO     : num  0 0.289 0.124 0.141 0 ...\n $ D3B       : num  0.02 0.0695 0.0272 0.0181 0 ...\n $ D4A       : num  0.991 0.99 0.99 0.99 0 ...\n $ D5AR      : num  0.935 0.708 0.75 0.702 0 ...\n $ D5CRI     : num  0.935 0.708 0.75 0.702 0 ...\n $ D1C_Cat   : Factor w/ 4 levels \"Low\",\"Medium\",..: 2 1 1 1 1 1 1 3 1 2 ...\n $ D3B_Cat   : Factor w/ 4 levels \"Low\",\"Medium\",..: 3 4 3 2 1 1 1 2 2 1 ...\n\n\nCode\ndata_trans &lt;- data_categorical\n\ndata_trans$geometry &lt;- st_as_sfc(data_trans$geometry, crs = 4326)\ndata_sf &lt;- st_as_sf(data_trans, sf_column_name = \"geometry\")\n\n#st_write(data_sf, \"manhattan.geojson\", driver = \"GeoJSON\",delete_dsn = TRUE)\n\n#class(data_sf)\n# Should include \"sf\"\n\n#st_geometry_type(data_sf)\n\n\n\n\nCode\ndata_sf &lt;- st_cast(data_sf, \"MULTIPOLYGON\")  \n\nspatial_plot &lt;- ggplot(data = data_sf) +\n  geom_sf(aes(fill = D5CRI, text = paste(\"Regional Centrality Index:\", D5CRI)), \n          color = \"grey\",  \n          size = 0.1,      \n          alpha = 0.8      \n  ) +\n  scale_fill_gradient(low = \"lightblue\", high = \"darkblue\", name = \"Regional Centrality Index\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(title = \"Map plot for Regional Centrality Index in Manhattan\", fill = \"D5CRI\")\n\n\nWarning in layer_sf(geom = GeomSf, data = data, mapping = mapping, stat = stat,\n: Ignoring unknown aesthetics: text\n\n\nCode\ninteractive_plot &lt;- ggplotly(spatial_plot, tooltip = \"text\")  \ninteractive_plot\n\n\n\n\n\n\nResult: In Manhattan, the most centrally located regions generally appear around midtown—near and around the core business districts, transportation hubs, and areas with a dense street network. These midtown neighborhoods, often home to major landmarks, offices, and transit stations, stand out as the most “central” parts of Manhattan according to the map.\nUser Interactions: Hover your cursor over regions to see the Regional Centrality Index values in a tooltip. Zoom in and out or pan around the map to explore different areas more closely. Use the toolbar in the viewer to reset the view or take screenshots as needed.\n\n\nCode\ndata_sf &lt;- st_cast(data_sf, \"MULTIPOLYGON\")  \n\nspatial_plot &lt;- ggplot(data = data_sf) +\n  geom_sf(aes(fill = D5AR, text = paste(\"Jobs within 45 minutes:\", D5AR)), \n          color = \"grey\",  \n          size = 0.1,      \n          alpha = 0.8      \n  ) +\n  scale_fill_gradient(low = \"lightblue\", high = \"darkblue\", name = \"Jobs within 45 minutes\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(title = \"Map plot for Jobs within 45 minutes in Manhattan\", fill = \"D5CRI\")\n\n\nWarning in layer_sf(geom = GeomSf, data = data, mapping = mapping, stat = stat,\n: Ignoring unknown aesthetics: text\n\n\nCode\ninteractive_plot &lt;- ggplotly(spatial_plot, tooltip = \"text\")  \ninteractive_plot\n\n\n\n\n\n\n\n\nCode\nvars &lt;- c(\"P_WrkAge\", \"Pct_AO1\", \"R_HiWageWk\", \"D1B\", \"D3A\", \"D3AMM\", \"D3APO\", \"D4A\", \"D5AR\")\n\nui &lt;- fluidPage(\n  selectInput(\"var\", \"Choose a variable to display:\", choices = vars),\n  plotOutput(\"mapPlot\")\n)\n\nserver &lt;- function(input, output) {\n  output$mapPlot &lt;- renderPlot({\n    ggplot(data = data_sf) +\n      geom_sf(aes(fill = get(input$var))) +\n      scale_fill_gradient(low = \"lightblue\", high = \"darkblue\", name = \"Regional Centrality Index\") +\n      theme_minimal() +\n      theme(\n      axis.text.x = element_text(angle = 45, hjust = 1)) +\n      labs(\n        title = \"Spatial Plot\",\n        fill = \"Attribute\"\n      )\n  })\n}\n\nshinyApp(ui, server)\n\n\nShiny applications not supported in static R Markdown documents",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>5702 project script</span>"
    ]
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "&lt;!DOCTYPE html&gt;\n\n\n\n\n\n\n\n\nMap plot for Regional Centrality Index in Manhattan",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
  },
  {
    "objectID": "results.html#correlation-plot-with-dependent-variable-d5cri-regional-centrality-index",
    "href": "results.html#correlation-plot-with-dependent-variable-d5cri-regional-centrality-index",
    "title": "3  Results",
    "section": "3.2 2. Correlation plot with dependent variable: D5CRI (Regional Centrality Index)",
    "text": "3.2 2. Correlation plot with dependent variable: D5CRI (Regional Centrality Index)\n\n3.2.1 (1).heat map\n\n\nCode\ncor_matrix &lt;- cor(selected_data, use = \"complete.obs\")\ncor_melt &lt;- melt(cor_matrix)\n\n\nggplot(cor_melt, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile() +\n  geom_text(aes(label = round(value, 2)), color = \"black\", size = 4) +  \n  scale_fill_gradient2(\n    low = \"blue\", high = \"red\", mid = \"white\",\n    midpoint = 0, limit = c(-1, 1), space = \"Lab\",\n    name = \"Correlation\"\n  ) +\n  labs(\n    title = \"Correlation Heatmap of Numerical Variables and Dependent Variable\",\n    x = \"Variables\",\n    y = \"Variables\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    axis.text.y = element_text(size = 10),\n    plot.title = element_text(size = 14, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\n\nStrong Positive Relationships: Areas that are highly central (D5CRI) tend to have better access to jobs within a 45-minute drive (D5AR).\n\nPlaces closer to transit stops (D4A) are strongly linked to being more central (D5CRI).\n\nModerate Positive Relationships: Areas with more working-age residents tend to have more high-wage earners.\n\nAreas with denser road networks also tend to have better multi-modal transportation options like buses or trains.\n\nWeak or Minimal Relationships: Walkable infrastructure (D3APO) shows little connection to most other factors, indicating it operates independently.\nNegative Relationships: Areas designed for pedestrians tend to have slightly fewer multi-modal facilities, showing a trade-off in urban planning priorities.\n\n\n\n3.2.2 (2). Scatter plot matrix\n\n\nCode\nselected_data &lt;- data[num_variables]\n\n\nselected_data &lt;- selected_data %&gt;%\n  mutate(across(everything(), as.numeric))\n\n\nggpairs(\n  selected_data,\n  title = \"Scatter Plot Matrix of Numeircal Variables and Dependant Variables \",\n  lower = list(continuous = \"smooth\"),   \n  upper = list(continuous = \"cor\"),      \n  diag = list(continuous = \"densityDiag\") \n)+ \n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nFrom the scatter plot we can see that proximity to jobs, transit stops, and robust transport networks are the strongest drivers of regional centrality, while factors like pedestrian infrastructure or car ownership play a much smaller role.\n\n\n3.2.3 (3). Scatter plot for D5AR(Jobs within 45 minutes) and D5CRI(Regional Centrality Index) facet on D1C (Employment level)\n\n\nCode\nggplot(data_categorical, aes(x = D5AR, y = D5CRI, color = D1C_Cat)) +\n  geom_point(alpha = 0.7) +\n  facet_wrap(~D3B_Cat, scales = \"fixed\") + \n  labs(\n    title = \"Scatter plot of Jobs within 45 minutes VS Regional Centrality Index by Employment level\",\n    x = \"D5AR(Jobs within 45 minutes)\",\n    y = \"D5CRI: Regional Centrality Index\",\n    color = \"D3B: Street intersection level\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    strip.text.x = element_text(hjust = 1),\n    plot.title = element_text(size = 13, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nAreas with more jobs accessible within 45 minutes tend to be more centrally located, emphasizing the importance of proximity to jobs in urban planning.\nThe relationship holds across all levels of employment, showing that job access is a universal factor for centrality in Manhattan.\nThe density of street intersections does not seem to significantly influence the observed relationship in this data.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>5702 project script</span>"
    ]
  }
]